# ğŸš€ çº¯ Node.js ç‰ˆæœ¬çš„ç«å±±å¼•æ“ AI ç”Ÿå›¾ MCP å·¥å…·

**ç‰ˆæœ¬**: 1.0.0
**ç±»å‹**: çº¯ Node.js + TypeScript å®ç°
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

---

## ğŸ“‹ é¡¹ç›®ç‰¹ç‚¹

### âœ¨ æ ¸å¿ƒä¼˜åŠ¿

1. âœ… **çº¯ Node.js å®ç°** - æ— éœ€ Python ä¾èµ–
2. âœ… **TypeScript ç±»å‹å®‰å…¨** - å®Œæ•´çš„ç±»å‹å®šä¹‰
3. âœ… **MCP åè®®å…¼å®¹** - å®Œå…¨ç¬¦åˆ Model Context Protocol æ ‡å‡†
4. âœ… **æ‰€æœ‰åŠŸèƒ½å®Œæ•´** - æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€æ‰¹é‡ç”Ÿæˆã€æ¨¡å‹åˆ—è¡¨
5. âœ… **é”™è¯¯å¤„ç†å®Œå–„** - è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå»ºè®®
6. âœ… **æ€§èƒ½ä¼˜ç§€** - å¹³å‡å“åº”æ—¶é—´ 26.86 ç§’

---

## ğŸ”§ å®‰è£…å’Œé…ç½®

### æ–¹å¼ 1: ç›´æ¥è¿è¡Œï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1: å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®

```bash
git clone https://github.com/fucheng830/volcengine-imagegen-mcp.git
cd volcengine-imagegen-mcp
```

#### æ­¥éª¤ 2: å®‰è£…ä¾èµ–

```bash
npm install
```

#### æ­¥éª¤ 3: ç¼–è¯‘ TypeScript

```bash
npm run build
```

#### æ­¥éª¤ 4: è®¾ç½®ç¯å¢ƒå˜é‡

**Windows PowerShell**:
```powershell
$env:ARK_API_KEY="your_api_key_here"
```

**Windows CMD**:
```cmd
set ARK_API_KEY=your_api_key_here
```

**Linux/macOS**:
```bash
export ARK_API_KEY="your_api_key_here"
```

#### æ­¥éª¤ 5: å¯åŠ¨æœåŠ¡å™¨

```bash
npm start
```

æˆ–è€…ç›´æ¥è¿è¡Œï¼š

```bash
node dist/index.js
```

---

### æ–¹å¼ 2: Claude Desktop ä¸­ä½¿ç”¨ï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1: ç¼–è¾‘ Claude Desktop é…ç½®

æ‰“å¼€ Claude Desktop é…ç½®æ–‡ä»¶ï¼š

**Windows**:
```
C:\Users\<YourName>\AppData\Roaming\Claude\claude_desktop_config.json
```

**macOS**:
```
~/Library/Application Support/Claude/claude_desktop_config.json
```

#### æ­¥éª¤ 2: æ·»åŠ  MCP Server é…ç½®

```json
{
  "mcpServers": {
    "volcengine-imagegen": {
      "command": "node",
      "args": [
        "D:\\ç¨‹åº\\workspace\\opensource\\volcengine-imagegen-mcp\\dist\\index.js"
      ],
      "env": {
        "ARK_API_KEY": "your_api_key_here"
      }
    }
  }
}
```

**é…ç½®è¯´æ˜**ï¼š
- `command`: `node`ï¼ˆNode.js å¯æ‰§è¡Œæ–‡ä»¶ï¼‰
- `args`: `dist/index.js` çš„å®Œæ•´è·¯å¾„
- `env.ARK_API_KEY`: ä½ çš„ç«å±±å¼•æ“ API Key

#### æ­¥éª¤ 3: é‡å¯ Claude Desktop

1. å®Œå…¨å…³é—­ Claude Desktop
2. é‡æ–°æ‰“å¼€åº”ç”¨
3. ç­‰å¾… MCP Server è¿æ¥ï¼ˆçº¦ 10 ç§’ï¼‰

---

### æ–¹å¼ 3: VS Code ä¸­ä½¿ç”¨

#### æ­¥éª¤ 1: å®‰è£… Cline æ‰©å±•

1. æ‰“å¼€ VS Code
2. æŒ‰ `Ctrl+Shift+X` æ‰“å¼€æ‰©å±•é¢æ¿
3. æœç´¢ `Cline`
4. ç‚¹å‡» **Install** å®‰è£…æ‰©å±•

#### æ­¥éª¤ 2: é…ç½® MCP Server

æ‰“å¼€ VS Code è®¾ç½®ï¼ˆ`Ctrl+Shift+P`ï¼Œè¾“å…¥ `Preferences: Open User Settings (JSON)`ï¼‰

æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "cline.mcpServers": {
    "volcengine-imagegen": {
      "command": "node",
      "args": [
        "D:\\ç¨‹åº\\workspace\\opensource\\volcengine-imagegen-mcp\\dist\\index.js"
      ],
      "env": {
        "ARK_API_KEY": "your_api_key_here"
      }
    }
  }
}
```

#### æ­¥éª¤ 3: ä¿å­˜å¹¶é‡å¯

1. ä¿å­˜ `settings.json`ï¼ˆ`Ctrl+S`ï¼‰
2. é‡å¯ VS Code

---

## ğŸ“ å¯ç”¨å·¥å…·

### 1. generate_image - æ–‡ç”Ÿå›¾

**æè¿°**: ä½¿ç”¨æ–‡å­—æè¿°ç”Ÿæˆä¸€å¼ å›¾ç‰‡

**å‚æ•°**:
- `model` (string): ä½¿ç”¨çš„æ¨¡å‹IDï¼ˆé»˜è®¤ï¼šdoubao-seedream-4-5-251128ï¼‰
- `prompt` (string, å¿…éœ€): å›¾ç‰‡ç”Ÿæˆæç¤ºè¯ï¼ˆæ”¯æŒä¸­è‹±æ–‡ï¼Œ1-2000 å­—ç¬¦ï¼‰
- `size` (string, å¯é€‰): å›¾ç‰‡å°ºå¯¸ï¼ˆ2K, 4K, 1024x1024, 2048x2048ï¼Œé»˜è®¤ï¼š2Kï¼‰
- `guidance_scale` (number, å¯é€‰): æ–‡æœ¬æƒé‡ï¼ˆ1-10ï¼Œé»˜è®¤ï¼š2.5ï¼‰
- `watermark` (boolean, å¯é€‰): æ˜¯å¦æ·»åŠ æ°´å°ï¼ˆé»˜è®¤ï¼šfalseï¼‰
- `count` (number, å¯é€‰): ç”Ÿæˆå›¾ç‰‡æ•°é‡ï¼ˆå½“å‰ä»…æ”¯æŒ 1 å¼ ï¼‰
- `response_format` (string, å¯é€‰): å“åº”æ ¼å¼ï¼ˆurl æˆ– b64_jsonï¼Œé»˜è®¤ï¼šurlï¼‰

**ç¤ºä¾‹**:
```
ç”Ÿæˆä¸€å¼ ç¾ä¸½çš„å±±æ°´é£æ™¯ç”»
```

---

### 2. image_to_image - å›¾ç”Ÿå›¾

**æè¿°**: åŸºäºå‚è€ƒå›¾ç‰‡ç”Ÿæˆæ–°å›¾ç‰‡

**å‚æ•°**:
- `model` (string): ä½¿ç”¨çš„æ¨¡å‹IDï¼ˆä»…æ”¯æŒ 4.5/4.0ï¼‰
- `prompt` (string, å¿…éœ€): å›¾ç‰‡ç”Ÿæˆæç¤ºè¯
- `image_urls` (array, å¿…éœ€): å‚è€ƒå›¾ç‰‡ URL åˆ—è¡¨ï¼ˆæœ€å¤š 14 å¼ ï¼‰
- `size` (string, å¯é€‰): å›¾ç‰‡å°ºå¯¸
- `guidance_scale` (number, å¯é€‰): æ–‡æœ¬æƒé‡
- `response_format` (string, å¯é€‰): å“åº”æ ¼å¼

**ç¤ºä¾‹**:
```
æ ¹æ®è¿™å¼ å›¾ç‰‡çš„é£æ ¼ï¼Œç”Ÿæˆä¸€å¼ æ–°çš„å•†åŠ¡è‚–åƒ
```

---

### 3. generate_image_set - æ‰¹é‡ç”Ÿæˆ

**æè¿°**: ç”Ÿæˆå¤šå¼ å†…å®¹ç›¸å…³çš„å›¾ç‰‡ï¼ˆé€šè¿‡å¤šæ¬¡è°ƒç”¨å®ç°ï¼‰

**å‚æ•°**:
- `model` (string): ä½¿ç”¨çš„æ¨¡å‹ID
- `prompt` (string, å¿…éœ€): å›¾ç‰‡ç”Ÿæˆæç¤ºè¯
- `count` (number, å¯é€‰): ç”Ÿæˆå›¾ç‰‡æ•°é‡ï¼ˆ2-15 å¼ ï¼Œé»˜è®¤ï¼š4ï¼‰
- `size` (string, å¯é€‰): å›¾ç‰‡å°ºå¯¸
- `guidance_scale` (number, å¯é€‰): æ–‡æœ¬æƒé‡
- `response_format` (string, å¯é€‰): å“åº”æ ¼å¼

**ç¤ºä¾‹**:
```
ç”Ÿæˆ 4 å¼ ä¸åŒé£æ ¼çš„åŸå¸‚å¤œæ™¯ï¼ŒåŒ…æ‹¬éœ“è™¹ç¯ã€é«˜æ¥¼ã€èµ›åšæœ‹å…‹é£æ ¼
```

**æ³¨æ„**: 
- å½“å‰é€šè¿‡å¤šæ¬¡ API è°ƒç”¨å®ç°æ‰¹é‡ç”Ÿæˆ
- count å‚æ•°åœ¨ API å±‚è¢«é™åˆ¶ä¸º 1ï¼Œä½†å·¥å…·ä¼šè‡ªåŠ¨å¤„ç†å¤šæ¬¡è°ƒç”¨

---

### 4. list_models - æ¨¡å‹åˆ—è¡¨

**æè¿°**: è·å–æ‰€æœ‰æ”¯æŒçš„ç”Ÿå›¾æ¨¡å‹å’ŒåŠŸèƒ½è¯´æ˜

**å‚æ•°**: æ— 

**ç¤ºä¾‹**:
```
åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„æ¨¡å‹å’Œå®ƒä»¬çš„åŠŸèƒ½
```

---

## ğŸ“Š æµ‹è¯•ç»“æœ

### æµ‹è¯•ç»Ÿè®¡

```
æ€»æµ‹è¯•æ•°: 6
é€šè¿‡æ•°: 6 âœ…
å¤±è´¥æ•°: 0
é€šè¿‡ç‡: 100% â­â­â­â­
æ€»è€—æ—¶: 107.45 ç§’
```

### æµ‹è¯•è¯¦æƒ…

| æµ‹è¯• | çŠ¶æ€ | è€—æ—¶ | ç»“æœ |
|------|------|------|------|
| TC001 - ç®€å•æ–‡ç”Ÿå›¾ | âœ… é€šè¿‡ | 23.51ç§’ | æˆåŠŸç”Ÿæˆ 2K é£æ™¯ç”» |
| TC002 - å®Œæ•´å‚æ•° (4K) | âœ… é€šè¿‡ | 25.13ç§’ | æˆåŠŸç”Ÿæˆ 4K å•†ä¸šè‚–åƒ |
| TC003 - Base64 æ ¼å¼ | âœ… é€šè¿‡ | 27.87ç§’ | æˆåŠŸç”Ÿæˆ 1MB Base64 æ•°æ® |
| TC004 - æ‰¹é‡ç”Ÿæˆ (3å¼ ) | âœ… é€šè¿‡ | 30.92ç§’ | æˆåŠŸç”Ÿæˆ 3 å¼ å›¾ç‰‡ |
| TC007 - æ¨¡å‹åˆ—è¡¨æŸ¥è¯¢ | âœ… é€šè¿‡ | 0.00ç§’ | æˆåŠŸè·å– 4 ä¸ªæ¨¡å‹ |
| TC008 - API Key éªŒè¯ | âœ… é€šè¿‡ | 0.00ç§’ | API Key é…ç½®æ­£ç¡® |

---

## ğŸ¨ æ”¯æŒçš„æ¨¡å‹

1. **doubao-seedream-4-5-251128** - è±†åŒ…ç”Ÿå›¾ 4.5 (æœ€æ–°ï¼Œæ”¯æŒå¤šæ ¼å¼)
   - æ”¯æŒåŠŸèƒ½: æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€ç»„å›¾ç”Ÿæˆã€å¤šå›¾å‚è€ƒ
   - æ”¯æŒæ ¼å¼: PNG, JPG, WEBP, BMP, TIFF, GIF

2. **doubao-seedream-4-0-250828** - è±†åŒ…ç”Ÿå›¾ 4.0
   - æ”¯æŒåŠŸèƒ½: æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€ç»„å›¾ç”Ÿæˆã€å¤šå›¾å‚è€ƒ

3. **doubao-seedream-3-0-t2i-250415** - è±†åŒ…ç”Ÿå›¾ 3.0 æ–‡ç”Ÿå›¾
   - æ”¯æŒåŠŸèƒ½: æ–‡ç”Ÿå›¾

4. **doubao-seedream-3-0-i2i** - è±†åŒ…ç”Ÿå›¾ 3.0 å›¾ç”Ÿå›¾
   - æ”¯æŒåŠŸèƒ½: å›¾ç”Ÿå›¾

---

## ğŸ¨ æ”¯æŒçš„å°ºå¯¸

- **2K**: å¿«é€Ÿç”Ÿæˆï¼Œé€‚åˆæ—¥å¸¸ä½¿ç”¨
- **4K**: é«˜è´¨é‡è¾“å‡ºï¼Œé€‚åˆæ‰“å°å’Œä¸“ä¸šç”¨é€”
- **1024x1024**: æ–¹å½¢è¾“å‡º
- **2048x2048**: é«˜åˆ†è¾¨ç‡æ–¹å½¢è¾“å‡º

---

## ğŸ’¡ ä½¿ç”¨æç¤º

### 1. API Key é…ç½®

âš ï¸ **å®‰å…¨æç¤º**ï¼š
- ä¸è¦å°†åŒ…å«çœŸå® API Key çš„é…ç½®æ–‡ä»¶æäº¤åˆ° Git
- åœ¨ `.gitignore` ä¸­æ·»åŠ  `.env` å’ŒåŒ…å« API Key çš„é…ç½®æ–‡ä»¶
- å¦‚æœ API Key æ³„éœ²ï¼Œç«‹å³åœ¨ç«å±±å¼•æ“æ§åˆ¶å°æ’¤é”€å¹¶é‡æ–°ç”Ÿæˆ

### 2. æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ `2K` å°ºå¯¸ä»¥è·å¾—æ›´å¿«çš„å“åº”æ—¶é—´
- å‡å°‘ API è°ƒç”¨é¢‘ç‡ä»¥é¿å…é™æµ
- ä½¿ç”¨ Base64 æ ¼å¼å¦‚æœéœ€è¦å³æ—¶æ˜¾ç¤ºå›¾ç‰‡

### 3. æ‰¹é‡ç”Ÿæˆ

å½“å‰é€šè¿‡å¤šæ¬¡ API è°ƒç”¨å®ç°æ‰¹é‡ç”Ÿæˆï¼š
- ç”Ÿæˆ 3 å¼ å›¾ç‰‡çº¦éœ€ 30 ç§’
- æ¯å¼ å›¾ç‰‡å¹³å‡ 10 ç§’
- å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æ•°é‡

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**ï¼š
- æç¤º"æœªè®¾ç½® ARK_API_KEY ç¯å¢ƒå˜é‡"
- å¯åŠ¨åç«‹å³é€€å‡º

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤ API Key å·²è®¾ç½®ï¼š
   ```powershell
   echo $env:ARK_API_KEY
   ```
2. æ£€æŸ¥ API Key æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆ32 ä½å­—ç¬¦ä¸²ï¼‰
3. ç¡®è®¤ç«å±±å¼•æ“ API Key æœ‰æ•ˆ

---

### é—®é¢˜ 2: MCP Server æ— æ³•è¿æ¥

**ç—‡çŠ¶**ï¼š
- Claude Desktop æˆ– VS Code ä¸­çœ‹ä¸åˆ°å·¥å…·
- æç¤ºè¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `node` å‘½ä»¤æ˜¯å¦å¯ç”¨ï¼š
   ```bash
   node --version
   ```
2. ç¡®è®¤ `dist/index.js` æ–‡ä»¶å­˜åœ¨
3. æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„æ˜¯å¦æ­£ç¡®
4. æŸ¥çœ‹åº”ç”¨æ—¥å¿—äº†è§£è¯¦ç»†é”™è¯¯

---

### é—®é¢˜ 3: ç”Ÿæˆå›¾ç‰‡å¤±è´¥

**ç—‡çŠ¶**ï¼š
- API è¿”å›é”™è¯¯
- æç¤º"API è°ƒç”¨å¤±è´¥"

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ API Key æ˜¯å¦æœ‰æ•ˆ
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. ç¡®è®¤ç«å±±å¼•æ“è´¦æˆ·ä½™é¢å……è¶³
4. æŸ¥çœ‹ç«å±±å¼•æ“æ§åˆ¶å°ç¡®è®¤ API çŠ¶æ€

---

## ğŸ“ å¼€å‘ä¿¡æ¯

### æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript 5.7.3
- **è¿è¡Œæ—¶**: Node.js 18.0.0+
- **MCP SDK**: @modelcontextprotocol/sdk ^1.0.4
- **HTTP å®¢æˆ·ç«¯**: axios ^1.7.9
- **åŒ…ç®¡ç†å™¨**: npm

### é¡¹ç›®ç»“æ„

```
volcengine-imagegen-mcp/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.ts              # TypeScript æºç 
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ index.js             # ç¼–è¯‘åçš„ JavaScript
â”‚   â”œâ”€â”€ index.d.ts            # TypeScript å£°æ˜æ–‡ä»¶
â”‚   â””â”€â”€ index.js.map         # Source Map
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡ï¼ˆéœ€å¡«å†™ API Keyï¼‰
â”œâ”€â”€ .env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ README.md                # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ LICENSE                  # MIT è®¸å¯è¯
â””â”€â”€ .gitignore               # Git å¿½ç•¥é…ç½®
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…

```bash
npm install
```

### 2. ç¼–è¯‘

```bash
npm run build
```

### 3. è®¾ç½® API Key

```bash
export ARK_API_KEY="your_api_key_here"
```

### 4. å¯åŠ¨

```bash
npm start
```

### 5. åœ¨ Claude Desktop ä¸­ä½¿ç”¨

æ·»åŠ é…ç½®åˆ° `claude_desktop_config.json`ï¼š

```json
{
  "mcpServers": {
    "volcengine-imagegen": {
      "command": "node",
      "args": [
        "/path/to/volcengine-imagegen-mcp/dist/index.js"
      ],
      "env": {
        "ARK_API_KEY": "your_api_key_here"
      }
    }
  }
}
```

é‡å¯ Claude Desktopï¼Œç„¶ååœ¨å¯¹è¯æ¡†ä¸­è¾“å…¥ï¼š

```
ç”Ÿæˆä¸€å¼ ç¾ä¸½çš„å±±æ°´é£æ™¯ç”»
```

---

## ğŸ“ æ”¯æŒ

### æ–‡æ¡£

- ğŸ“– **ä¸»æ–‡æ¡£**: `README.md`
- ğŸ“– **Claude é…ç½®**: `CLAUDE_GUIDE.md`
- ğŸ“– **VS Code é…ç½®**: `VS_CODE_SETUP_GUIDE.md`

### å¤–éƒ¨èµ„æº

- ğŸ”— **ç«å±±å¼•æ“æ§åˆ¶å°**: https://console.volcengine.com/ark
- ğŸ”— **API æ–‡æ¡£**: https://www.volcengine.com/docs/82379
- ğŸ”— **MCP åè®®**: https://modelcontextprotocol.io/
- ğŸ”— **GitHub ä»“åº“**: https://github.com/fucheng830/volcengine-imagegen-mcp

---

## âœ… æ€»ç»“

**é¡¹ç›®çŠ¶æ€**: âœ… **ç”Ÿäº§å°±ç»ª**

**æ ¸å¿ƒä¼˜åŠ¿**:
1. âœ… çº¯ Node.js å®ç°ï¼Œæ— éœ€ Python
2. âœ… TypeScript ç±»å‹å®‰å…¨
3. âœ… å®Œæ•´çš„ MCP åè®®æ”¯æŒ
4. âœ… æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡ï¼ˆ100%ï¼‰
5. âœ… æ€§èƒ½ä¼˜ç§€ï¼ˆå¹³å‡ 26.86 ç§’ï¼‰
6. âœ… æ–‡æ¡£å®Œæ•´æ¸…æ™°

**æ¨èç”¨é€”**:
- âœ… Claude Desktop é›†æˆ
- âœ… VS Code (Cline) é›†æˆ
- âœ… npx å…¨å±€å®‰è£…ä½¿ç”¨

---

**ğŸš€ ç°åœ¨å¯ä»¥ä½¿ç”¨çº¯ Node.js ç‰ˆæœ¬çš„ç«å±±å¼•æ“ AI ç”Ÿå›¾ MCP å·¥å…·äº†ï¼**

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
