# ğŸ”§ VS Code MCP Server é…ç½®æŒ‡å—ï¼ˆå®˜æ–¹æ–¹æ³•ï¼‰

## ğŸ“‹ å‰ç½®è¦æ±‚

### 1. å®‰è£… VS Code

ç¡®ä¿ä½ å·²å®‰è£… Visual Studio Codeï¼š
- ä¸‹è½½åœ°å€ï¼šhttps://code.visualstudio.com/
- è¦æ±‚ï¼šVS Code 1.102 æˆ–æ›´é«˜ç‰ˆæœ¬
- æŸ¥çœ‹ `Help > About` ç¡®è®¤ç‰ˆæœ¬

### 2. å®‰è£… Node.js

ç¡®ä¿ä½ å·²å®‰è£… Node.jsï¼ˆ18 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ï¼š
- ä¸‹è½½åœ°å€ï¼šhttps://nodejs.org/
- éªŒè¯å®‰è£…ï¼š
  ```powershell
  node --version
  ```

### 3. é…ç½® Copilot

VS Code MCP Server é›†æˆéœ€è¦ Copilotï¼š
1. ç¡®ä¿å·²ç™»å½• GitHub Copilot
2. åœ¨ VS Code ä¸­å¯ç”¨ Copilot Chat åŠŸèƒ½
3. æŸ¥çœ‹ `https://code.visualstudio.com/docs/copilot/setup` äº†è§£å¦‚ä½•è®¾ç½® Copilot

---

## ğŸ”§ é…ç½® MCP Server

### æ–¹æ³• 1: ä½¿ç”¨å·¥ä½œåŒº mcp.json æ–‡ä»¶ï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1ï¼šåˆ›å»º .vscode/mcp.json æ–‡ä»¶

åœ¨ä½ çš„å·¥ä½œåŒºæ ¹ç›®å½•åˆ›å»º `.vscode/mcp.json` æ–‡ä»¶ï¼š

**æ–‡ä»¶ä½ç½®**ï¼š
```
d:\ç¨‹åº\workspace\.vscode\mcp.json
```

#### æ­¥éª¤ 2ï¼šæ·»åŠ  MCP Server é…ç½®

åœ¨ `mcp.json` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```json
{
  "servers": {
    "volcengine-imagegen": {
      "type": "stdio",
      "command": "node",
      "args": [
        "d:/ç¨‹åº/workspace/opensource/volcengine-imagegen-mcp/dist/index.js"
      ],
      "env": {
        "ARK_API_KEY": "14bb7c84-411b-4729-9d45-d0ddaba61c41"
      }
    }
  },
  "inputs": []
}
```

**é…ç½®è¯´æ˜**ï¼š
- `type`: è¿æ¥ç±»å‹ï¼Œä½¿ç”¨ `"stdio"` æ ‡å‡†è¾“å…¥è¾“å‡º
- `command`: Node.js å¯æ‰§è¡Œæ–‡ä»¶
- `args`: ç¼–è¯‘åçš„ dist/index.js çš„å®Œæ•´è·¯å¾„
- `env.ARK_API_KEY`: ä½ çš„ç«å±±å¼•æ“ API Key
- `inputs`: å¯é€‰çš„æ•æ„Ÿæ•°æ®è¾“å…¥å˜é‡å ä½ç¬¦

#### æ­¥éª¤ 3ï¼šä¿å­˜å¹¶é‡å¯

- ä¿å­˜æ–‡ä»¶ï¼ˆ`Ctrl+S`ï¼‰
- é‡å¯ VS Code æˆ–é‡æ–°åŠ è½½çª—å£ï¼ˆ`Ctrl+Shift+P` â†’ "Developer: Reload Window"ï¼‰

---

### æ–¹æ³• 2: ä½¿ç”¨ç”¨æˆ·çº§é…ç½®

#### æ­¥éª¤ 1ï¼šæ‰“å¼€ç”¨æˆ·çº§ mcp.json

æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥å¹¶é€‰æ‹©ï¼š
```
MCP: Open User Configuration
```

#### æ­¥éª¤ 2ï¼šæ·»åŠ é…ç½®

åœ¨æ‰“å¼€çš„ç”¨æˆ·çº§ `mcp.json` æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```json
{
  "servers": {
    "volcengine-imagegen": {
      "type": "stdio",
      "command": "node",
      "args": [
        "d:/ç¨‹åº/workspace/opensource/volcengine-imagegen-mcp/dist/index.js"
      ],
      "env": {
        "ARK_API_KEY": "14bb7c84-411b-4729-9d45-d0ddaba61c41"
      }
    }
  },
  "inputs": []
}
```

**å·¥ä½œåŒº vs ç”¨æˆ·é…ç½®çš„åŒºåˆ«**ï¼š
- **å·¥ä½œåŒºé…ç½®** (`workspace/.vscode/mcp.json`): ä»…åœ¨å½“å‰å·¥ä½œåŒºæœ‰æ•ˆï¼Œé€‚åˆé¡¹ç›®ç‰¹å®šçš„ MCP æœåŠ¡å™¨
- **ç”¨æˆ·é…ç½®** (`~/.vscode/mcp.json`): åœ¨æ‰€æœ‰å·¥ä½œåŒºéƒ½æœ‰æ•ˆï¼Œé€‚åˆå…¨å±€ä½¿ç”¨çš„ MCP æœåŠ¡å™¨

---

### æ–¹æ³• 3: ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨èç”¨äºå®‰å…¨æ€§ï¼‰

ä¸ºäº†é¿å…åœ¨é…ç½®æ–‡ä»¶ä¸­ç¡¬ç¼–ç  API Keyï¼Œå¯ä»¥ä½¿ç”¨ VS Code çš„è¾“å…¥å˜é‡åŠŸèƒ½ï¼š

#### æ­¥éª¤ 1ï¼šä¿®æ”¹ mcp.json é…ç½®

```json
{
  "servers": {
    "volcengine-imagegen": {
      "type": "stdio",
      "command": "node",
      "args": [
        "d:/ç¨‹åº/workspace/opensource/volcengine-imagegen-mcp/dist/index.js"
      ],
      "env": {
        "ARK_API_KEY": "${input:ark-api-key}"
      }
    }
  },
  "inputs": [
    {
      "type": "promptString",
      "id": "ark-api-key",
      "description": "ç«å±±å¼•æ“ ARK API Key",
      "password": true
    }
  ]
}
```

#### æ­¥éª¤ 2ï¼šé¦–æ¬¡å¯åŠ¨æ—¶è¾“å…¥

å½“ VS Code é¦–æ¬¡å¯åŠ¨æ­¤ MCP æœåŠ¡å™¨æ—¶ï¼Œä¼šæç¤ºä½ è¾“å…¥ API Keyã€‚è¾“å…¥åï¼Œè¯¥å€¼ä¼šè¢«å®‰å…¨å­˜å‚¨ã€‚

---

### é…ç½®å‚æ•°è¯´æ˜

| å‚æ•° | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| `type` | âœ… | æœåŠ¡å™¨è¿æ¥ç±»å‹ï¼Œ`"stdio"` æˆ– `"http"` |
| `command` | âœ… | å¯åŠ¨æœåŠ¡å™¨çš„å‘½ä»¤ï¼Œå¦‚ `"node"`ã€`"python"` |
| `args` | âŒ | ä¼ é€’ç»™å‘½ä»¤çš„å‚æ•°æ•°ç»„ |
| `env` | âŒ | æœåŠ¡å™¨çš„ç¯å¢ƒå˜é‡å¯¹è±¡ |
| `envFile` | âŒ | ç¯å¢ƒå˜é‡æ–‡ä»¶çš„è·¯å¾„ |

**æ”¯æŒçš„æœåŠ¡å™¨å‘½åè§„èŒƒ**ï¼š
- ä½¿ç”¨ camelCaseï¼Œå¦‚ `"volcengineImagegen"` æˆ– `"githubIntegration"`
- é¿å…ä½¿ç”¨ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦
- ä½¿ç”¨æè¿°æ€§åç§°åæ˜ æœåŠ¡å™¨çš„åŠŸèƒ½æˆ–å“ç‰Œ

---

## ğŸ” éªŒè¯é…ç½®

### æ­¥éª¤ 1ï¼šæ‰“å¼€ Copilot Chat

1. æŒ‰ `Ctrl+Alt+I` æ‰“å¼€ Chat è§†å›¾
2. æˆ–ç‚¹å‡»ä¾§è¾¹æ çš„ Chat å›¾æ ‡ ğŸ’¬

### æ­¥éª¤ 2ï¼šå¯ç”¨ MCP å·¥å…·

1. åœ¨ Chat è¾“å…¥æ¡†ä¸Šæ–¹ï¼Œç‚¹å‡» **Tools** æŒ‰é’®ï¼ˆå·¥å…·å›¾æ ‡ï¼‰
2. ç¡®ä¿å¯ç”¨äº† `volcengine-imagegen` æœåŠ¡å™¨çš„å·¥å…·
3. ä½ ä¼šçœ‹åˆ°ä»¥ä¸‹å·¥å…·ï¼š
   - `generate_image` - ç”Ÿæˆå›¾ç‰‡
   - `image_to_image` - å›¾ç”Ÿå›¾
   - `generate_image_set` - æ‰¹é‡ç”Ÿæˆ
   - `list_models` - åˆ—å‡ºæ”¯æŒçš„æ¨¡å‹

### æ­¥éª¤ 3ï¼šæµ‹è¯• MCP è¿æ¥

åœ¨ Chat å¯¹è¯æ¡†ä¸­è¾“å…¥ï¼š
```
åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„æ¨¡å‹å’Œå®ƒä»¬çš„åŠŸèƒ½
```

å¦‚æœé…ç½®æ­£ç¡®ï¼ŒCopilot ä¼šè‡ªåŠ¨è°ƒç”¨ `list_models` å·¥å…·å¹¶è¿”å›æ¨¡å‹åˆ—è¡¨ã€‚

**é¢„æœŸè¾“å‡º**ï¼š
```
ğŸ“‹ ç«å±±å¼•æ“è±†åŒ…ç”Ÿå›¾ - æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨

- **doubao-seedream-4-5-251128**
  è±†åŒ…ç”Ÿå›¾ 4.5 (æœ€æ–°ï¼Œæ”¯æŒå¤šæ ¼å¼)

- **doubao-seedream-4-0-250828**
  è±†åŒ…ç”Ÿå›¾ 4.0

- **doubao-seedream-3-0-t2i-250415**
  è±†åŒ…ç”Ÿå›¾ 3.0 æ–‡ç”Ÿå›¾

ğŸ¨ æ”¯æŒçš„å°ºå¯¸ï¼š
- 2K
- 4K
- 1024x1024
- 2048x2048
```

---

## ğŸš€ å¼€å§‹ä½¿ç”¨

### ç¤ºä¾‹ 1ï¼šç”Ÿæˆç®€å•å›¾ç‰‡

åœ¨ Copilot Chat å¯¹è¯æ¡†ä¸­è¾“å…¥ï¼š
```
ç”Ÿæˆä¸€å¼ ç¾ä¸½çš„å±±æ°´é£æ™¯ç”»
```

### ç¤ºä¾‹ 2ï¼šä½¿ç”¨å®Œæ•´å‚æ•°

```
ç”Ÿæˆä¸€å¼ ä¸“ä¸šæ‘„å½±å¸ˆæ‹æ‘„çš„å•†ä¸šè‚–åƒï¼Œè‡ªç„¶å…‰ï¼Œçœ¼ç¥è‡ªä¿¡ï¼ŒèƒŒæ™¯ç®€æ´ï¼Œ8Kåˆ†è¾¨ç‡ï¼Œæ–‡æœ¬æƒé‡ 7.5ï¼Œæ·»åŠ æ°´å°
```

### ç¤ºä¾‹ 3ï¼šç”Ÿæˆ Base64 æ ¼å¼

```
ç”Ÿæˆä¸€å¼ ä¼ä¸š Logoï¼Œä»¥ Base64 æ ¼å¼è¿”å›
```

### ç¤ºä¾‹ 4ï¼šæ‰¹é‡ç”Ÿæˆ

```
ç”Ÿæˆ 3 å¼ ä¸åŒé£æ ¼çš„åŸå¸‚å¤œæ™¯
```

### ç¤ºä¾‹ 5ï¼šå›¾ç”Ÿå›¾

```
å‚è€ƒè¿™å¼ å›¾ç‰‡çš„é£æ ¼ï¼Œç”Ÿæˆä¸€å¼ æ–°çš„æ’ç”»
```
ï¼ˆç„¶åé€‰æ‹©ä¸€å¼ å›¾ç‰‡æˆ–æä¾›å›¾ç‰‡ URLï¼‰

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šæ‰¾ä¸åˆ° MCP Server

**ç—‡çŠ¶**ï¼š
- Chat è§†å›¾æç¤ºæ— æ³•è¿æ¥åˆ° MCP Server
- å·¥å…·åˆ—è¡¨ä¸ºç©º
- MCP æœåŠ¡å™¨æ˜¾ç¤ºé”™è¯¯å›¾æ ‡

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ Node.js å®‰è£…**ï¼š
```powershell
# åœ¨ PowerShell ä¸­è¿è¡Œ
node --version
```

ç¡®ä¿ Node.js å·²æ­£ç¡®å®‰è£…ï¼ˆéœ€è¦ 18 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚

2. **æ£€æŸ¥ dist/index.js è·¯å¾„**ï¼š
```powershell
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
Test-Path "d:\ç¨‹åº\workspace\opensource\volcengine-imagegen-mcp\dist\index.js"
```

åº”è¯¥è¿”å› `True`ã€‚

3. **é‡æ–°ç¼–è¯‘é¡¹ç›®**ï¼š
```powershell
cd "d:\ç¨‹åº\workspace\opensource\volcengine-imagegen-mcp"
npm run build
```

4. **æŸ¥çœ‹ MCP æœåŠ¡å™¨æ—¥å¿—**ï¼š
- æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿
- è¾“å…¥ `MCP: List Servers`
- é€‰æ‹© `volcengine-imagegen`
- ç‚¹å‡» `Show Output` æŸ¥çœ‹æ—¥å¿—

---

### é—®é¢˜ 2ï¼šAPI Key é”™è¯¯

**ç—‡çŠ¶**ï¼š
- æç¤ºæœªè®¾ç½® ARK_API_KEY
- ç”Ÿæˆå›¾ç‰‡å¤±è´¥
- API è¿”å› 401 é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ mcp.json ä¸­çš„ env é…ç½®**ï¼š
```json
{
  "env": {
    "ARK_API_KEY": "14bb7c84-411b-4729-9d45-d0ddaba61c41"
  }
}
```
- ç¡®è®¤ API Key å®Œæ•´ä¸”æ­£ç¡®
- ç¡®ä¿æ²¡æœ‰å¤šä½™çš„å¼•å·æˆ–ç©ºæ ¼

2. **ç›´æ¥æµ‹è¯• MCP æœåŠ¡å™¨**ï¼š
```powershell
cd "d:\ç¨‹åº\workspace\opensource\volcengine-imagegen-mcp"
$env:ARK_API_KEY="14bb7c84-411b-4729-9d45-d0ddaba61c41"
node dist/index.js
```

åº”è¯¥çœ‹åˆ°æœåŠ¡å™¨å¯åŠ¨æ¶ˆæ¯ã€‚

3. **éªŒè¯ API Key æœ‰æ•ˆæ€§**ï¼š
- ç¡®ä¿ä½¿ç”¨çš„æ˜¯æœ‰æ•ˆçš„ç«å±±å¼•æ“ ARK API Key
- æ£€æŸ¥ API Key æ˜¯å¦æœ‰è¶³å¤Ÿçš„æƒé™å’Œä½™é¢

---

### é—®é¢˜ 3ï¼šä¾èµ–ç¼ºå¤±æˆ–ç¼–è¯‘é”™è¯¯

**ç—‡çŠ¶**ï¼š
- æç¤ºæ‰¾ä¸åˆ° @modelcontextprotocol/sdk æ¨¡å—
- TypeScript ç¼–è¯‘é”™è¯¯
- dist/index.js ä¸å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š

```powershell
# è¿›å…¥é¡¹ç›®ç›®å½•
cd "d:\ç¨‹åº\workspace\opensource\volcengine-imagegen-mcp"

# å®‰è£…ä¾èµ–
npm install

# é‡æ–°ç¼–è¯‘
npm run build
```

---

### é—®é¢˜ 4ï¼šVS Code ä¸è¯†åˆ« MCP é…ç½®

**ç—‡çŠ¶**ï¼š
- mcp.json æ–‡ä»¶è¢«å¿½ç•¥
- Chat è§†å›¾ä¸­æ²¡æœ‰ MCP å·¥å…·

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ VS Code ç‰ˆæœ¬**ï¼š
   - ç¡®ä¿ä½¿ç”¨çš„æ˜¯ VS Code 1.102 æˆ–æ›´é«˜ç‰ˆæœ¬
   - æŸ¥çœ‹ `Help > About` ç¡®è®¤ç‰ˆæœ¬

2. **æ£€æŸ¥æ–‡ä»¶ä½ç½®**ï¼š
   - å·¥ä½œåŒºé…ç½®ï¼š`workspace/.vscode/mcp.json`
   - ç”¨æˆ·é…ç½®ï¼š`~/.vscode/mcp.json`

3. **å¯ç”¨ MCP åŠŸèƒ½**ï¼š
   - æ‰“å¼€è®¾ç½®ï¼š`Ctrl + ,`
   - æœç´¢ `chat.mcp.gallery.enabled`
   - ç¡®ä¿ MCP åŠŸèƒ½å·²å¯ç”¨

4. **é‡æ–°åŠ è½½çª—å£**ï¼š
   - `Ctrl+Shift+P` â†’ `Developer: Reload Window`

---

### é—®é¢˜ 5ï¼šMCP æœåŠ¡å™¨ä¿¡ä»»æç¤º

**ç—‡çŠ¶**ï¼š
- VS Code æç¤ºæ˜¯å¦ä¿¡ä»»æ­¤ MCP æœåŠ¡å™¨
- æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **å®¡æŸ¥æœåŠ¡å™¨é…ç½®**ï¼š
   - æŸ¥çœ‹ `mcp.json` é…ç½®
   - ç¡®è®¤æ¥æºå¯ä¿¡

2. **ä¿¡ä»»æœåŠ¡å™¨**ï¼š
   - ç‚¹å‡»å¯¹è¯æ¡†ä¸­çš„ "Trust" æŒ‰é’®
   - æ­¤å VS Code ä¼šè®°ä½æ­¤ä¿¡ä»»å†³å®š

3. **é‡ç½®ä¿¡ä»»**ï¼š
   - `Ctrl+Shift+P` â†’ `MCP: Reset Trust`

---

## ğŸ“ é…ç½®ç¤ºä¾‹

### å®Œæ•´çš„ mcp.json ç¤ºä¾‹ï¼ˆå·¥ä½œåŒºï¼‰

```json
{
  "servers": {
    "volcengine-imagegen": {
      "type": "stdio",
      "command": "node",
      "args": [
        "d:/ç¨‹åº/workspace/opensource/volcengine-imagegen-mcp/dist/index.js"
      ],
      "env": {
        "ARK_API_KEY": "14bb7c84-411b-4729-9d45-d0ddaba61c41"
      }
    }
  },
  "inputs": []
}
```

### ä½¿ç”¨è¾“å…¥å˜é‡ï¼ˆæ¨èï¼‰

```json
{
  "servers": {
    "volcengine-imagegen": {
      "type": "stdio",
      "command": "node",
      "args": [
        "d:/ç¨‹åº/workspace/opensource/volcengine-imagegen-mcp/dist/index.js"
      ],
      "env": {
        "ARK_API_KEY": "${input:ark-api-key}"
      }
    }
  },
  "inputs": [
    {
      "type": "promptString",
      "id": "ark-api-key",
      "description": "ç«å±±å¼•æ“ ARK API Key",
      "password": true
    }
  ]
}
```

---

## ğŸ’¡ æç¤º

### 1. è·¯å¾„é—®é¢˜

Windows è·¯å¾„å»ºè®®ä½¿ç”¨æ­£æ–œæ  `/` æˆ–åŒåæ–œæ  `\\`ï¼š

```json
// âœ… æ¨è
"args": [
  "d:/ç¨‹åº/workspace/opensource/volcengine-imagegen-mcp/dist/index.js"
]

// âœ… ä¹Ÿå¯ä»¥
"args": [
  "d:\\ç¨‹åº\\workspace\\opensource\\volcengine-imagegen-mcp\\dist\\index.js"
]

// âŒ ä¸æ¨è
"args": [
  "d:\ç¨‹åº\workspace\opensource\volcengine-imagegen-mcp\dist\index.js"
]
```

### 2. API Key å®‰å…¨

âš ï¸ **é‡è¦æç¤º**ï¼š
- ä¸è¦å°†åŒ…å«çœŸå® API Key çš„ `mcp.json` æäº¤åˆ° Git
- åœ¨ `.gitignore` ä¸­æ·»åŠ  `.vscode/mcp.json`
- ä½¿ç”¨è¾“å…¥å˜é‡ï¼ˆ`${input:ark-api-key}`ï¼‰è€Œéç¡¬ç¼–ç  API Key
- VS Code ä¼šå®‰å…¨å­˜å‚¨è¾“å…¥å˜é‡çš„å€¼

### 3. æ€§èƒ½ä¼˜åŒ–

å¦‚æœä½ é¢‘ç¹ä½¿ç”¨ï¼Œå¯ä»¥è€ƒè™‘ï¼š

- æ‰¹é‡ç”Ÿæˆå›¾ç‰‡æ—¶ä½¿ç”¨ `generate_image_set` å·¥å…·
- å‡å°‘ API è°ƒç”¨é¢‘ç‡
- ç¼“å­˜ç”Ÿæˆçš„å›¾ç‰‡

### 4. å·¥å…·ä½¿ç”¨æŠ€å·§

- ä½¿ç”¨ `#` å‰ç¼€åœ¨ Chat ä¸­ç›´æ¥å¼•ç”¨å·¥å…·ï¼š`#generate_image`
- åœ¨ Tools é€‰æ‹©å™¨ä¸­å¯ä»¥å•ç‹¬å¯ç”¨/ç¦ç”¨ç‰¹å®šå·¥å…·
- å¯ä»¥å°†ç›¸å…³å·¥å…·åˆ†ç»„ä¸ºå·¥å…·é›†ä»¥ä¾¿ç®¡ç†

### 5. ç®¡ç†å¤šä¸ª MCP æœåŠ¡å™¨

å¦‚æœä½ æœ‰å¤šä¸ª MCP æœåŠ¡å™¨ï¼š

1. **æŸ¥çœ‹æ‰€æœ‰æœåŠ¡å™¨**ï¼š
   - `Ctrl+Shift+P` â†’ `MCP: List Servers`

2. **ç®¡ç†æœåŠ¡å™¨**ï¼š
   - åœ¨ Extensions è§†å›¾ä¸­çš„ "MCP SERVERS - INSTALLED" éƒ¨åˆ†
   - å³é”®ç‚¹å‡»æœåŠ¡å™¨å¯ä»¥ï¼šå¯åŠ¨/åœæ­¢ã€æŸ¥çœ‹æ—¥å¿—ã€å¸è½½ç­‰

3. **ä½¿ç”¨å·¥å…·é›†**ï¼š
   - å°†ç›¸å…³å·¥å…·åˆ†ç»„ä¸ºå·¥å…·é›†
   - åœ¨ Chat ä¸­å¿«é€Ÿåˆ‡æ¢ä¸åŒçš„å·¥å…·é›†

---

## âœ… é…ç½®æ£€æŸ¥æ¸…å•

ä½¿ç”¨ä»¥ä¸‹æ¸…å•ç¡®ä¿é…ç½®æ­£ç¡®ï¼š

- [ ] å·²å®‰è£… VS Codeï¼ˆ1.102 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰
- [ ] å·²ç™»å½• GitHub Copilot
- [ ] Node.js å·²æ­£ç¡®å®‰è£…ï¼ˆ18 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰
- [ ] é¡¹ç›®ä¾èµ–å·²å®‰è£…ï¼ˆnpm installï¼‰
- [ ] é¡¹ç›®å·²ç¼–è¯‘ï¼ˆnpm run buildï¼‰
- [ ] dist/index.js æ–‡ä»¶å­˜åœ¨
- [ ] mcp.json æ–‡ä»¶å·²åˆ›å»ºå¹¶æ ¼å¼æ­£ç¡®
- [ ] ARK_API_KEY å·²è®¾ç½®ï¼ˆæ¨èä½¿ç”¨è¾“å…¥å˜é‡ï¼‰
- [ ] å·²é‡æ–°åŠ è½½ VS Code çª—å£
- [ ] MCP Server è¿æ¥æˆåŠŸ
- [ ] Chat è§†å›¾ä¸­å¯ä»¥çœ‹åˆ° 4 ä¸ªå·¥å…·

---

## ğŸ“š ç›¸å…³èµ„æº

### é¡¹ç›®æ–‡æ¡£

- ğŸ“– **ä¸»æ–‡æ¡£**: `README.md`
- ğŸ“– **ä½¿ç”¨ç¤ºä¾‹**: `EXAMPLES.md`
- ğŸ“– **å¿«é€Ÿå¼€å§‹**: `QUICKSTART.md`
- ğŸ“– **æµ‹è¯•æŠ¥å‘Š**: `FINAL_TEST_REPORT_20260121.md`

### å¤–éƒ¨èµ„æº

- ğŸ”— **VS Code MCP æ–‡æ¡£**: https://code.visualstudio.com/docs/copilot/customization/mcp-servers
- ğŸ”— **VS Code ä¸‹è½½**: https://code.visualstudio.com/
- ğŸ”— **MCP åè®®**: https://modelcontextprotocol.io/
- ğŸ”— **MCP å®˜æ–¹æœåŠ¡å™¨ä»“åº“**: https://github.com/modelcontextprotocol/servers
- ğŸ”— **GitHub MCP æœåŠ¡å™¨æ³¨å†Œè¡¨**: https://github.com/mcp

---

## ğŸ”„ ä» Cline è¿ç§»åˆ° VS Code Copilot MCP

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨çš„æ˜¯ Cline æ‰©å±•ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿ç§»ï¼š

### ä¸»è¦åŒºåˆ«

| ç‰¹æ€§ | Cline | VS Code Copilot MCP |
|------|-------|-------------------|
| é…ç½®æ–‡ä»¶ | `settings.json` | `mcp.json` |
| é…ç½®é”® | `cline.mcpServers` | `servers` |
| å¯åŠ¨æ–¹å¼ | æ‰©å±•è‡ªåŠ¨å¯åŠ¨ | VS Code åŸç”Ÿæ”¯æŒ |
| ä½¿ç”¨å…¥å£ | Cline ä¾§è¾¹æ  | Copilot Chat è§†å›¾ |

### è¿ç§»æ­¥éª¤

1. **å®‰è£…ä¾èµ–å¹¶ç¼–è¯‘**ï¼š
```powershell
cd "d:\ç¨‹åº\workspace\opensource\volcengine-imagegen-mcp"
npm install
npm run build
```

2. **åˆ›å»º mcp.json**ï¼š
   - åœ¨ `.vscode/` ç›®å½•ä¸‹åˆ›å»º `mcp.json`
   - ä½¿ç”¨æœ¬æ–‡æ¡£ä¸­çš„é…ç½®ç¤ºä¾‹

3. **ç§»é™¤ Cline é…ç½®**ï¼š
   - ä» `settings.json` ä¸­åˆ é™¤ `cline.mcpServers` é…ç½®
   - å¯é€‰æ‹©å¸è½½ Cline æ‰©å±•

4. **éªŒè¯é…ç½®**ï¼š
   - æ‰“å¼€ Copilot Chat
   - æµ‹è¯• MCP å·¥å…·æ˜¯å¦å¯ç”¨

### ä¼˜åŠ¿

- âœ… VS Code åŸç”Ÿæ”¯æŒï¼Œæ€§èƒ½æ›´å¥½
- âœ… ä¸å…¶ä»– MCP æœåŠ¡å™¨æ— ç¼é›†æˆ
- âœ… æ›´å¥½çš„å®‰å…¨æ€§å’Œæƒé™ç®¡ç†
- âœ… æ›´ç´§å¯†çš„ VS Code é›†æˆä½“éªŒ

---

## ğŸ§© åœ¨ Claude Desktop / Claude Code ä¸­é…ç½®

### å‰ç½®è¦æ±‚
- å·²å®‰è£… Node.jsï¼ˆ18+ï¼‰
- å·²è·å–ç«å±±å¼•æ“ API Key
- Claude Desktop æˆ– Claude Code å·²å®‰è£…

### æ–¹å¼ 1ï¼šä½¿ç”¨ npxï¼ˆæ¨èï¼Œæ— éœ€æœ¬åœ°å®‰è£…ï¼‰

#### Claude Desktop é…ç½®æ–‡ä»¶

ç¼–è¾‘ `claude_desktop_config.json`ï¼ˆé€šå¸¸åœ¨ç”¨æˆ·é…ç½®ç›®å½•ï¼‰ï¼š

```json
{
  "mcpServers": {
    "volcengine-imagegen": {
      "command": "npx",
      "args": ["volcengine-imagegen-mcp"],
      "env": {
        "ARK_API_KEY": "${ARK_API_KEY}"
      }
    }
  }
}
```

#### è¯´æ˜
- `command`: ä½¿ç”¨ `npx` å¯åœ¨ä¸å®‰è£…åŒ…çš„æƒ…å†µä¸‹è¿è¡Œå·²å‘å¸ƒçš„ npm åŒ…
- `args`: ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åŒ…åï¼ˆæˆ–å…¥å£è„šæœ¬è·¯å¾„ï¼‰
- `env`: å®¢æˆ·ç«¯ä¼šå°†è¿™äº›ç¯å¢ƒå˜é‡æ³¨å…¥åˆ°å¯åŠ¨çš„è¿›ç¨‹ä¸­
- æ¨èï¼šä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡ `${ARK_API_KEY}` æˆ–å®¢æˆ·ç«¯çš„æœºå¯†è¾“å…¥ï¼Œé¿å…åœ¨æ–‡ä»¶ä¸­ç¡¬ç¼–ç 

### æ–¹å¼ 2ï¼šä½¿ç”¨æœ¬åœ°æ„å»ºï¼ˆå¼€å‘/æœ¬åœ°ä½¿ç”¨ï¼‰

å¦‚æœä½ å·²ç»ç¼–è¯‘äº†æœ¬åœ°ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š

```json
{
  "mcpServers": {
    "volcengine-imagegen": {
      "command": "node",
      "args": [
        "d:/ç¨‹åº/workspace/opensource/volcengine-imagegen-mcp/dist/index.js"
      ],
      "env": {
        "ARK_API_KEY": "${ARK_API_KEY}"
      }
    }
  }
}
```

### Claude Code GUI é…ç½®æ­¥éª¤

1. æ‰“å¼€ Claude Code / Claude Desktop è®¾ç½®æˆ– MCP æœåŠ¡å™¨é…ç½®é¡µé¢
2. æ–°å¢ä¸€ä¸ª MCP æœåŠ¡å™¨ï¼Œåç§°ä¾‹å¦‚ `volcengine-imagegen`
3. å¡«å†™å¯åŠ¨æ–¹å¼ï¼š
   - å‘½ä»¤ï¼š`npx`
   - å‚æ•°ï¼š`volcengine-imagegen-mcp`ï¼ˆæˆ– `node` + `path/to/dist/index.js`ï¼‰
4. åœ¨ç¯å¢ƒå˜é‡åŒºåŸŸæ·»åŠ  `ARK_API_KEY`ï¼š
   - å€¼è®¾ç½®ä¸ºä½ çš„ç«å±±å¼•æ“ API Keyï¼Œæˆ–å¼•ç”¨å®¢æˆ·ç«¯çš„æœºå¯†å­˜å‚¨é¡¹
   - æ¨èä½¿ç”¨å®¢æˆ·ç«¯çš„æœºå¯†è¾“å…¥/å ä½ç¬¦ï¼Œè€Œéæ˜æ–‡ä¿å­˜
5. ä¿å­˜é…ç½®å¹¶å¯åŠ¨æœåŠ¡å™¨
6. é¦–æ¬¡å¯åŠ¨å¯èƒ½ä¼šæç¤ºæ˜¯å¦ä¿¡ä»»è¯¥æœåŠ¡å™¨ï¼Œé€‰æ‹©ä¿¡ä»»ä»¥å…è®¸å·¥å…·æ³¨å†Œ

### ä½¿ç”¨è¾“å…¥å˜é‡ / ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼ˆå®‰å…¨æ¨èï¼‰

å¦‚æœå®¢æˆ·ç«¯æ”¯æŒå ä½ç¬¦æˆ–æœºå¯†è¾“å…¥ï¼Œå»ºè®®ä½¿ç”¨è¯¥æ–¹å¼é¿å…åœ¨é…ç½®æ–‡ä»¶ä¸­æ˜æ–‡ä¿å­˜ API Keyã€‚

**ç³»ç»Ÿç¯å¢ƒå˜é‡æ–¹å¼**ï¼š

Windows (PowerShell):
```powershell
$env:ARK_API_KEY="your_api_key_here"
```

macOS / Linux (bash):
```bash
export ARK_API_KEY="your_api_key_here"
```

### éªŒè¯ä¸æ•…éšœæ’æŸ¥

**éªŒè¯é…ç½®**ï¼š
1. å¯åŠ¨ Claude Desktop / Claude Code
2. åœ¨ Chat æˆ– Console ä¸­è¾“å…¥ï¼š
   ```text
   åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„æ¨¡å‹
   ```
3. å¦‚æœé…ç½®æ­£ç¡®ï¼Œå®¢æˆ·ç«¯ä¼šè°ƒç”¨ `list_models` å¹¶è¿”å›æ¨¡å‹åˆ—è¡¨

**å¸¸è§é—®é¢˜**ï¼š
- æç¤ºæ— æ³•å¯åŠ¨æˆ– ENOENTï¼šæ£€æŸ¥ `command` ä¸ `args` æ˜¯å¦æ­£ç¡®ï¼Œä»¥åŠ `dist/index.js` æ˜¯å¦å­˜åœ¨
- æƒé™æˆ–è®¤è¯é”™è¯¯ï¼šç¡®è®¤ `ARK_API_KEY` å·²æ­£ç¡®ä¼ å…¥å­è¿›ç¨‹ä¸”æœ‰æ•ˆ
- å·¥å…·æœªæ˜¾ç¤ºï¼šæ£€æŸ¥ MCP æœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ï¼Œä»¥åŠæ˜¯å¦é€‰æ‹©äº†ä¿¡ä»»è¯¥æœåŠ¡å™¨

---

**é…ç½®å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨ VS Code çš„ Copilot Chat ä¸­ä½¿ç”¨ç«å±±å¼•æ“ AI ç”Ÿå›¾åŠŸèƒ½äº†ï¼** ğŸš€

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
